<h2 class="content-block">Nota Fiscal</h2>

<div id="form-container">


  <dx-form [(formData)]="notaFiscal">

    <dxi-item itemType="tabbed">

      <dxi-tab title="Corpo da Nota">

        <dxi-item dataField="numero" ></dxi-item>
        <dxi-item dataField="fornecedor" template="fornecedorTemplate"></dxi-item>
        <dxi-item dataField="data"></dxi-item>

      </dxi-tab>

      <dxi-tab title="Itens da Nota">
        <dxi-item dataField="itens" template="gridTemplate"></dxi-item>
      </dxi-tab>

    </dxi-item>

    <div *dxTemplate="let data of 'fornecedorTemplate'">
      <dx-select-box [items]="fornecedores"
                     [(value)]="data.component.option('formData')[data.dataField]"
                     displayExpr="fornecedor">
      </dx-select-box>
    </div>

    <div *dxTemplate="let data of 'gridTemplate'">
      <dx-data-grid
        [(dataSource)]="notaFiscal.itens">

        <dxo-editing
          mode="row"
          [allowUpdating]="true"
          [allowDeleting]="true"
          [allowAdding]="true">
        </dxo-editing>

        <dxi-column dataField="item" caption="Item"></dxi-column>

      </dx-data-grid>
    </div>



  </dx-form>


</div>
